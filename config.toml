# Radio TUI Configuration File
# 
# This is the default configuration file. Copy this to:
#   - macOS/Linux: ~/.config/radio/config.toml
#   - Windows portable: place beside radio-tui.exe (or in %APPDATA%\radio\config.toml)
#
# On first run, a default config will be created automatically.

[daemon]
# PID file for the daemon process
pid_file = "~/.local/share/radio/daemon.pid"

# State file for persisting daemon state
state_file = "~/.local/share/radio/state.json"

[http]
# Enable the built-in HTTP server for remote control
enabled = true

# Bind address for the HTTP server
bind_address = "127.0.0.1"

# Port for the HTTP server
port = 8989

[mpv]
# Default volume level (0.0 - 1.0)
default_volume = 0.5

[stations]
# Path to the stations TOML file (local file)
# On Windows portable, this can be a relative path like "stations.toml"
stations_toml = "~/.config/radio/stations.toml"

# URL for an M3U playlist (fallback if stations_toml doesn't exist)
m3u_url = "https://raw.githubusercontent.com/ja-mf/radio-curation/refs/heads/main/jamf_radios.m3u"

[paths]
# Directory for NTS show downloads
# On Windows portable, this can be a relative path like "downloads"
downloads_dir = "~/nts-downloads"

[polling]
# Enable passive background polling for station now-playing annotations
auto_polling = true

# Poll interval in seconds (default 120 = 2 minutes)
poll_interval_secs = 120

# Number of concurrent ICY probes for non-NTS stations per poll cycle.
# Lower values reduce CPU/network load on slower machines. Default: 3
max_concurrency = 3

# Maximum number of stations to poll per cycle. Default: 64
max_jobs_per_cycle = 64

[viz]
# Use PipeWire/PulseAudio monitor for VU meter and oscilloscope visualization (Linux only)
# When enabled, the visualizer shows the actual system audio output instead of the stream data.
# This is useful if you want to visualize what's playing through your soundcard.
# Default: false
pipewire_viz = true

# PipeWire/PulseAudio device name to monitor (Linux only)
# None = use default monitor source
# Common values: "pipewire.monitor", "alsa_output.*.monitor"
pipewire_device = "pipewire.monitor"

[binaries]
# Use system-installed binaries from PATH instead of bundled ones.
# When false (default), r4dio searches for binaries in the following order:
#   1. external/ folder next to the executable
#   2. Beside the executable itself
#   3. PATH
# When true, r4dio skips bundled/external search and uses PATH only.
# This is useful for development or when you want to use system packages.
use_system_deps = false
